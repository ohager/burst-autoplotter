language: node_js
node_js:
- lts/*
install:
- yarn
- yarn global add codecov
cache:
  yarn: true
  directories:
  - node_modules
script:
- yarn test
- yarn build
after-success:
- bash <(curl -s https://codecov.io/bash)
deploy:
  provider: npm
  email: oliver@devbutze.com
  api_key:
    secure: YfZVWoP6skyC5/umhw0MMsljwXGC6DgbvNnp+I34hsFlLHJOVh9ItkCzcM9i1Vb+Ywi/fVSKzoUXqS+YCZOyr/zTjpkiEHNyXd/wQ+r6LNdJwMTPqSdi1OTYt2K5cTSvu+MVLGhaS+V87wdSEZ96HwkDCiDUCAtRuRVdduVWjeKhWe0Ep7fpeaFtu6vQ5MPXvAK+FrkFGxHVTuZkOukW1+ZYOMyechP80AW9aO/niM+GTBIk/lNYZcl8aoa3oHuBNtOwiwI/wQsdaf7KU1vFgkihD/g0QQlV2nw6XzwdiJ+u/d7O8o/RRUWL3kxVVyOTUBwHq/p+Zcfe/bMKAQpYDRaM/+ge9bOw5qK0xumPbsTWs2ZmqVMOn8KPj4SBZ8iWp8XplJmBaeWODPOzJBVcVKKgoyELb3BMYFPloQ7XmWF8epLkoY2umQvY/2YeevZe0mkJWybrbu6TN38UxGpSwfqKgl4OfK9UKhgr0VZCRomU563b5WXt4XYvevRfAFyxlCD5aYGZsOZ6ZVE+PPBR42BfTZBKgPnhHa3UxqfxHev6icYIRJZ0XLe8F4M2E+5+HzZamyyEzL1xVWym42bhSB20BI5lbAMjHKyoKIggUKgIimdg8JHi9dBL/Hbl+ifS/9ulQCiG3Y4V8E4+HMUQRZdno1/qP0d9xC+v+rhyIG8=
  skip_cleanup: true
  on:
    tags: true
    repo: ohager/burst-autoplotter
    all_branches: true
